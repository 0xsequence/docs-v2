import { Callout } from "vocs/components";

# Sequence Orderbook API

The Sequence Orderbook API helps developers to utilize Sequence Orderbook contract's data. 
Additionally, it provides useful features such as, listing user activities and listing the best 
bid/ask offers.


<Callout type="info">
  It is mandatory to include network name in the API URL.

  eg: `https://marketplace-api.sequence.app/polygon/rpc/Marketplace/GetOrderbookOrders`
</Callout>


## Get Orderbook Orders

Get orderbook orders.

<Callout type="info">
  [GetOrderbookOrder API Spec](https://0xsequence.redoc.ly/tag/marketplace#operation/marketplace-GetOrderbookOrders)
</Callout>


:::code-group
```shell twoslash [curl] filename="curl"

curl --request POST \
  --url https://marketplace-api.sequence.app/arbitrum-sepolia/rpc/Marketplace/GetOrderbookOrders \
  --header 'Content-Type: application/json' \
  --data '{
    "collectionAddress": "0x1693ffc74edbb50d6138517fe5cd64fd1c917709",
    "currencyAddresses": [
        "0xa9c88358862211870db6f18bc9b3f6e4f8b3eae7"
    ],
    "filters": {
        "isListing": true,
        "tokenIds": [
            "0",
            "1",
            "4",
            "5"
        ]
    },
    "orderStatuses": [
        "OPEN","CANCELLED"
    ],
    "page": {
        "sort": [
            {
                "column": "createdAt",
                "order": "ASC"
            }
        ]
    },
    "orderbookContractAddress": "0xB537a160472183f2150d42EB1c3DD6684A55f74c"
}'
``` 

```js twoslash [js]
// Works in both a Webapp (browser) or Node.js:
import fetch from "cross-fetch";

(async () => {
  const res = await fetch(
    "https://marketplace-api.sequence.app/polygon/rpc/Marketplace/GetOrderbookOrders",
    {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify({
        collectionAddress: "0x1693ffc74edbb50d6138517fe5cd64fd1c917709",
        currencyAddresses: ["0xa9c88358862211870db6f18bc9b3f6e4f8b3eae7"],
        filters: {
          isListing: true,
          tokenIds: ["1", "4", "5"],
        },
        orderStatuses: ["OPEN", "CLOSED"],
        page: {
          sort: [
            {
              column: "createdAt",
              order: "ASC",
            },
          ],
        },
        orderbookContractAddress: "0xB537a160472183f2150d42EB1c3DD6684A55f74c",
      }),
    }
  );

  console.log("res", await res.json());
})();
```

```shell twoslash [other]
 Please contact our team for assistance with integrations to another target.
```
:::


## Get Top Orders 

Get best ask/bid offers.

<Callout type="info">
  [GetTopOrders API Spec](https://0xsequence.redoc.ly/tag/marketplace#operation/marketplace-GetTopOrders)
</Callout>

:::code-group
 
```shell twoslash [curl] filename="curl"
curl --request POST \
    --url https://marketplace-api.sequence.app/arbitrum-sepolia/rpc/Marketplace/GetTopOrders \
    --header 'Content-Type: application/json' \
    --data '{
        "collectionAddress": "0x1693ffc74edbb50d6138517fe5cd64fd1c917709",
        "currencyAddresses": [
            "0xa9c88358862211870db6f18bc9b3f6e4f8b3eae7"
        ],
        "orderbookContractAddress": "0xB537a160472183f2150d42EB1c3DD6684A55f74c",
        "tokenIDs": ["0","1", "2", "3", "4", "5"],
        "isListing": true,
        "priceSort": "DESC"
    }'
```

```ts twoslash [js]
// Works in both a Webapp (browser) or Node.js:
import fetch from "cross-fetch";

(async () => {
  const res = await fetch(
    "https://marketplace-api.sequence.app/arbitrum-sepolia/rpc/Marketplace/GetTopOrders",
    {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify({
        collectionAddress: "0x1693ffc74edbb50d6138517fe5cd64fd1c917709",
        currencyAddresses: ["0xa9c88358862211870db6f18bc9b3f6e4f8b3eae7"],
        orderbookContractAddress: "0xB537a160472183f2150d42EB1c3DD6684A55f74c",
        tokenIDs: ["0", "1", "2", "3", "4", "5"],
        isListing: true,
        priceSort: "DESC",
      }),
    }
  );
  console.log("res", await res.json());
})();
```

```shell twoslash [other]
 Please contact our team for assistance with integrations to another target.
```
:::


## GetUserActivites

Get orderbook activites of a particular user.

<Callout type="info">
  [GetUserActivites API Spec](https://0xsequence.redoc.ly/tag/marketplace#operation/marketplace-GetUserActivities)
</Callout>

:::code-group 

```shell twoslash [curl] filename="curl"
curl -X POST -H "Content-Type: application/json" https://marketplace-api.sequence.app/arbitrum-sepolia/rpc/Marketplace/GetUserActivities -d '{
    "orderbookContractAddress": "0xB537a160472183f2150d42EB1c3DD6684A55f74c",
    "collectionAddress": "0x1693ffc74edbb50d6138517fe5cd64fd1c917709",
    "currencyAddresses": [
        "0xa9c88358862211870db6f18bc9b3f6e4f8b3eae7"
    ],
    "userAddress": "0xC2Be9CF6D9ee4fd211f88620760e829792659b16",
    "tokenIDs": ["1"]
}'

```
```js twoslash [js]
// Works in both a Webapp (browser) or Node.js:
import fetch from "cross-fetch";

(async () => {
  const res = await fetch(
    "https://marketplace-api.sequence.app/arbitrum-sepolia/rpc/Marketplace/GetUserActivities",
    {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify({
        "orderbookContractAddress": "0xB537a160472183f2150d42EB1c3DD6684A55f74c",
        "collectionAddress": "0x1693ffc74edbb50d6138517fe5cd64fd1c917709",
        "currencyAddresses": [
            "0xa9c88358862211870db6f18bc9b3f6e4f8b3eae7"
        ],
        "userAddress": "0xC2Be9CF6D9ee4fd211f88620760e829792659b16",
        "tokenIDs": ["1"]
      }),
    }
  );

  console.log("res", await res.json());
})();
```

```shell twoslash [other]
 Please contact our team for assistance with integrations to another target.
```